# Auth Slice Overview

This file manages authentication state using Redux Toolkit. Since authentication involves API calls, the slice uses `createAsyncThunk` instead of normal reducers.



## Why createAsyncThunk is Used

- Reducers in Redux must be synchronous and cannot perform API calls.
- Authentication requires asynchronous operations such as sending registration or login requests to the backend.
- `createAsyncThunk` allows writing asynchronous logic while keeping reducers pure.



## How createAsyncThunk Works

When we define a thunk:

```js
export const registerUser = createAsyncThunk("/auth/register", async (formData) => {
  const response = await axios.post(`${backendURL}/api/auth/register`, formData, {
    withCredentials: true,
  });
  return response.data;
});

```

## Automatically Generated Action Types

`createAsyncThunk` automatically generates the following three action types:

- `/auth/register/pending`
- `/auth/register/fulfilled`
- `/auth/register/rejected`

These action types represent the different stages of an asynchronous request and are handled inside `extraReducers`.


## Role of extraReducers

`extraReducers` updates the slice state based on which lifecycle action is dispatched.  
Example:

```js
builder
  .addCase(registerUser.pending, (state) => {
    state.isLoading = true;
  })
  .addCase(registerUser.fulfilled, (state, action) => {
    state.isLoading = false;
    state.user = null;
    state.isAuthenticated = false;
  })
  .addCase(registerUser.rejected, (state) => {
    state.isLoading = false;
    state.user = null;
    state.isAuthenticated = false;
  });

```

#### Each case handles a different phase of the async operation (pending, fulfilled, rejected).

## Summary

- `createAsyncThunk` handles API calls for features such as registration and login.
- Reducers cannot handle asynchronous operations, so async logic must use thunks.
- `extraReducers` listens to the pending, fulfilled, and rejected actions generated by `createAsyncThunk`.
- This structure keeps Redux Toolkit state management clean, predictable, and suitable for authentication workflows.
